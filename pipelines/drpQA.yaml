description: DetectorMap QA pipeline
tasks:
  dmResiduals:
    class: pfs.drp.qa.dmResiduals.DetectorMapResidualsTask
  dmCombinedResiduals:
    class: pfs.drp.qa.dmCombinedResiduals.DetectorMapCombinedResidualsTask
  extractionQa:
    class: pfs.drp.qa.extractionQa.ExtractionQaTask
  fiberNormsQa:
    class: pfs.drp.qa.fiberNormsQa.FiberNormQaTask
subsets:
  perVisit:
    - dmResiduals
    - extractionQa
  perBand:
    - fiberNormsQa
  perInstrument:
    - dmCombinedResiduals
steps:
  - label: perVisit
    sharding_dimensions: instrument, visit, arm, spectrograph
  - label: perBand
    sharding_dimensions: instrument, visit, arm
  - label: perInstrument
    sharding_dimensions: instrument
